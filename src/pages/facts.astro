---
import MainLayout from "../layouts/MainLayout.astro";
// import data from "../content/facts.json";
import CardCarousel from "../components/CardCarousel.astro";

import type {SanityDocument} from '@sanity/client';
import {sanityClient} from 'sanity:client';

const FACTS_QUERY = `*[
  _type == "fact"
]`;

// Get the facts and shuffle them for a random order on each page load
const data = await sanityClient.fetch<SanityDocument[]>(FACTS_QUERY);
---

<MainLayout title="ðŸ¤“ Fun Facts" pathname={Astro.url.pathname}>
    <div class="has-text-centered">
        <p>You can never have too many fun facts!</p>
        <p>Ponder these while you're taking a break...</p>
    </div>
    <CardCarousel data={data.map(fact => fact.fact)} buttonText="ðŸŽ² Another Fact" />
</MainLayout>
